<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digitolio</title>
    <link rel="icon" href="{% static 'img/favicon.png' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <link rel="stylesheet" href="{% static 'css/project_small_modal.css' %}">
</head>
<body>
    <header>
        {% include 'includes/header_nav.html' %}
        {% include 'includes/header_hero.html' %}
    </header>
    <main class="container mt-3">
        <div class='row'>
            {% include 'projects/includes/filter.html' %}
            <div class='col-md-10 col-lg-10'>
                <div class="row mb-3">
                    <div class="input-group">
                        <input id="project-search" style="border-radius: 1rem;" type="text" class="form-control" placeholder="Найти проект по названию или автору" aria-label="Поиск проектов" aria-describedby="button-addon2">
                        <button id="search-button" style="border-radius: 1rem;" class="btn btn-outline-secondary justify-content-center align-items-center" type="button">
                            <img src="{% static 'img/search.svg' %}" alt="Поиск" class='d-block'>
                        </button>
                    </div>
                </div>
                <div id="projects-list" class="container p-4" style='background-color: #F6F6F6; border-radius: 1rem; box-shadow: 0px 4px 4px color(display-p3 0.467 0.776 0.757 / 0.15);"'>
                    <div id="projects-row" class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 ">
                        {% for project in projects %}
                            {% for language in languages_dict.items %}
                                {% if project.programming_language == language.0 %}
                                <div class="col" data-time_created="{{project.created_at}}" data-grade="{{project.grade}}" data-language="{{language.1}}" data-tags="{{project.tags.all|join:", "}}">
                                    {% include "projects/includes/new_project_small.html" with project=project %}
                                </div>
                                {% endif %}
                            {% endfor %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        {% include 'includes/hero_footer.html' %}
        {% include 'includes/footer_base.html' %}
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="{% static "search-projects.js" %}"></script>
    <script src="{% static "filter-projects.js" %}"></script>
</body>
</html>
